import{a as se}from"./chunk-VU5WL3MG.js";import{a as ae,b as ce}from"./chunk-G3R3A5Y3.js";import{a as de}from"./chunk-DIMVNYKP.js";import{b as te,d as ie,h as ne,u as oe}from"./chunk-7PE7EX4V.js";import"./chunk-QUWXQOXU.js";import"./chunk-Z237CGI5.js";import{Aa as P,Ba as K,Ca as W,Cb as ee,Ea as T,Ga as y,Ha as l,Lb as N,M as q,Ob as re,Pb as le,R as z,Ra as s,S as J,Sa as b,Ta as k,Ua as Q,Va as C,W as X,Wa as w,X as p,Xa as v,Y as u,bb as m,cb as _,ea as G,ha as o,ia as L,na as I,pa as h,qa as O,ra as A,sb as Y,tb as Z,ya as a,za as r,zb as $}from"./chunk-HL3SKBVK.js";import"./chunk-W7LYWJAE.js";import"./chunk-YT5AF7SN.js";import{a as j,d as _e,f as fe}from"./chunk-HFBR4SKI.js";var pe=_e((H,R)=>{(function(c,d){typeof define=="function"&&define.amd?define([],d):typeof H<"u"?d():(d(),c.FileSaver={})})(H,function(){"use strict";function c(g,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function d(g,f,M){var x=new XMLHttpRequest;x.open("GET",g),x.responseType="blob",x.onload=function(){E(x.response,f,M)},x.onerror=function(){console.error("could not download file")},x.send()}function i(g){var f=new XMLHttpRequest;f.open("HEAD",g,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function t(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(f)}}var e=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,n=e.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=e.saveAs||(typeof window!="object"||window!==e?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(g,f,M){var x=e.URL||e.webkitURL,S=document.createElement("a");f=f||g.name||"download",S.download=f,S.rel="noopener",typeof g=="string"?(S.href=g,S.origin===location.origin?t(S):i(S.href)?d(g,f,M):t(S,S.target="_blank")):(S.href=x.createObjectURL(g),setTimeout(function(){x.revokeObjectURL(S.href)},4e4),setTimeout(function(){t(S)},0))}:"msSaveOrOpenBlob"in navigator?function(g,f,M){if(f=f||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(c(g,M),f);else if(i(g))d(g,f,M);else{var x=document.createElement("a");x.href=g,x.target="_blank",setTimeout(function(){t(x)})}}:function(g,f,M,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof g=="string")return d(g,f,M);var S=g.type==="application/octet-stream",me=/constructor/i.test(e.HTMLElement)||e.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||S&&me||n)&&typeof FileReader<"u"){var B=new FileReader;B.onloadend=function(){var V=B.result;V=U?V:V.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=V:location=V,x=null},B.readAsDataURL(g)}else{var D=e.URL||e.webkitURL,F=D.createObjectURL(g);x?x.location=F:location.href=F,x=null,setTimeout(function(){D.revokeObjectURL(F)},4e4)}});e.saveAs=E.saveAs=E,typeof R<"u"&&(R.exports=E)})});var ue=fe(pe());function he(c,d){c&1&&(a(0,"div",7)(1,"div",8),P(2,"span",9),r()())}function we(c,d){c&1&&P(0,"span",49)}function ye(c,d){c&1&&P(0,"span",49)}function be(c,d){c&1&&P(0,"span",49)}function Ce(c,d){c&1&&P(0,"span",49)}function ve(c,d){c&1&&P(0,"span",49)}function Pe(c,d){c&1&&P(0,"span",49)}function ke(c,d){if(c&1){let i=T();a(0,"div")(1,"div",52),y("click",function(){p(i);let e=l().$implicit,n=l().$implicit,E=l(2);return u(E.openEditModalFacebookPixel(n[e],e))}),a(2,"div",53)(3,"h5",54),s(4),m(5,"translate"),r(),a(6,"p",55),s(7),r(),a(8,"p",56),s(9),r()()()()}if(c&2){let i=l().$implicit,t=l().$implicit;o(4),Q("",_(5,4,"admin.pages.configuration.facebook.pixelName")," ",t[i].name,""),o(3),k("Pixel ID: ",t[i].id," "),o(2),k("Token: ",t[i].token,"")}}function Se(c,d){if(c&1&&(K(0),I(1,ke,10,6,"div",33),W()),c&2){let i=d.$implicit,t=l().$implicit;o(),h("ngIf",t[i].id&&t[i].token)}}function Ie(c,d){if(c&1&&(a(0,"div",50),I(1,Se,2,1,"ng-container",51),r()),c&2){let i=d.$implicit,t=l(2);o(),h("ngForOf",t.getKeys(i))}}function Me(c,d){if(c&1){let i=T();K(0),a(1,"div",57)(2,"div",58)(3,"div",59)(4,"div",60)(5,"h5",61),s(6),m(7,"translate"),r(),a(8,"button",62),y("click",function(){p(i);let e=l(2);return u(e.closeAddModalFacebokPixel())}),r()(),a(9,"div",63)(10,"div",64)(11,"label"),s(12),m(13,"translate"),r(),a(14,"input",65),v("ngModelChange",function(e){p(i);let n=l(2);return w(n.newPixel.name,e)||(n.newPixel.name=e),u(e)}),r()(),a(15,"div",64)(16,"label"),s(17,"Pixel ID"),r(),a(18,"input",65),v("ngModelChange",function(e){p(i);let n=l(2);return w(n.newPixel.id,e)||(n.newPixel.id=e),u(e)}),r()(),a(19,"div",64)(20,"label"),s(21,"Token"),r(),a(22,"input",65),v("ngModelChange",function(e){p(i);let n=l(2);return w(n.newPixel.token,e)||(n.newPixel.token=e),u(e)}),r()()(),a(23,"div",66)(24,"button",67),y("click",function(){p(i);let e=l(2);return u(e.addNewPixel())}),s(25),m(26,"translate"),r()()()()(),W()}if(c&2){let i=l(2);o(),O("display",i.isModalOpenAddFacebookPixel?"flex":"none"),A("show",i.isModalOpenAddFacebookPixel),o(5),b(_(7,10,"admin.pages.configuration.facebook.pixelModalTitle")),o(6),b(_(13,12,"admin.pages.configuration.facebook.pixelName")),o(2),C("ngModel",i.newPixel.name),o(4),C("ngModel",i.newPixel.id),o(4),C("ngModel",i.newPixel.token),o(3),b(_(26,14,"admin.pages.configuration.facebook.addPixel"))}}function Ee(c,d){if(c&1){let i=T();K(0),a(1,"div",57)(2,"div",58)(3,"div",59)(4,"div",60)(5,"h5",61),s(6),m(7,"translate"),r(),a(8,"button",62),y("click",function(){p(i);let e=l(2);return u(e.closeModalConfigurationFacebookPixel())}),r()(),a(9,"div",63)(10,"div",64)(11,"label"),s(12),m(13,"translate"),r(),a(14,"input",65),v("ngModelChange",function(e){p(i);let n=l(2);return w(n.selectedPixel.name,e)||(n.selectedPixel.name=e),u(e)}),r()(),a(15,"div",64)(16,"label"),s(17,"Pixel ID"),r(),a(18,"input",65),v("ngModelChange",function(e){p(i);let n=l(2);return w(n.selectedPixel.id,e)||(n.selectedPixel.id=e),u(e)}),r()(),a(19,"div",64)(20,"label"),s(21,"Token"),r(),a(22,"input",65),v("ngModelChange",function(e){p(i);let n=l(2);return w(n.selectedPixel.token,e)||(n.selectedPixel.token=e),u(e)}),r()()(),a(23,"div",66)(24,"button",68),y("click",function(){p(i);let e=l(2);return u(e.deletePixel())}),s(25),m(26,"translate"),r(),a(27,"button",67),y("click",function(){p(i);let e=l(2);return u(e.updatePixel())}),s(28),m(29,"translate"),r()()()()(),W()}if(c&2){let i=l(2);o(),O("display",i.isModalOpenConfigurationFacebookPixel?"flex":"none"),A("show",i.isModalOpenConfigurationFacebookPixel),o(5),b(_(7,11,"admin.pages.configuration.facebook.pixelModalTitleEdit")),o(6),b(_(13,13,"admin.pages.configuration.facebook.pixelName")),o(2),C("ngModel",i.selectedPixel.name),o(4),C("ngModel",i.selectedPixel.id),o(4),C("ngModel",i.selectedPixel.token),o(3),b(_(26,15,"admin.pages.configuration.facebook.deletePixel")),o(3),b(_(29,17,"admin.pages.configuration.facebook.saveChanges"))}}function Te(c,d){if(c&1){let i=T();a(0,"div",69),s(1),a(2,"button",70),y("click",function(){let e=p(i).$implicit,n=l(2);return u(n.deleteLanguage(e))}),s(3),m(4,"translate"),r()()}if(c&2){let i=d.$implicit,t=l(2);o(),k(" ",t.languages[i]," "),o(2),b(_(4,2,"admin.pages.configuration.languages.delete_button"))}}function Ve(c,d){if(c&1){let i=T();a(0,"div",10)(1,"div",11)(2,"h2"),s(3),m(4,"translate"),r(),a(5,"div",12)(6,"label",13),s(7),m(8,"translate"),r(),a(9,"div",14)(10,"input",15),v("ngModelChange",function(e){p(i);let n=l();return w(n.newPublicKey,e)||(n.newPublicKey=e),u(e)})("valueChange",function(e){p(i);let n=l();return w(n.publicKey,e)||(n.publicKey=e),u(e)}),r(),a(11,"button",16),y("click",function(){p(i);let e=l();return u(e.updatePublicKey())}),I(12,we,1,0,"span",17),s(13),m(14,"translate"),r()()(),a(15,"div",12)(16,"label",18),s(17),m(18,"translate"),r(),a(19,"div",14)(20,"input",19),v("ngModelChange",function(e){p(i);let n=l();return w(n.newSecretKey,e)||(n.newSecretKey=e),u(e)})("valueChange",function(e){p(i);let n=l();return w(n.secretKey,e)||(n.secretKey=e),u(e)}),r(),a(21,"button",16),y("click",function(){p(i);let e=l();return u(e.updateSecretKey())}),I(22,ye,1,0,"span",17),s(23),m(24,"translate"),r()()(),a(25,"div",12)(26,"label",20),s(27),m(28,"translate"),r(),a(29,"div",14)(30,"input",21),v("ngModelChange",function(e){p(i);let n=l();return w(n.newPriceId_eur,e)||(n.newPriceId_eur=e),u(e)})("valueChange",function(e){p(i);let n=l();return w(n.priceId_eur,e)||(n.priceId_eur=e),u(e)}),r(),a(31,"button",16),y("click",function(){p(i);let e=l();return u(e.updatePriceId("eur"))}),I(32,be,1,0,"span",17),s(33),m(34,"translate"),r()()(),a(35,"div",12)(36,"label",20),s(37),m(38,"translate"),r(),a(39,"div",14)(40,"input",21),v("ngModelChange",function(e){p(i);let n=l();return w(n.newPriceId_usd,e)||(n.newPriceId_usd=e),u(e)})("valueChange",function(e){p(i);let n=l();return w(n.priceId_usd,e)||(n.priceId_usd=e),u(e)}),r(),a(41,"button",16),y("click",function(){p(i);let e=l();return u(e.updatePriceId("usd"))}),I(42,Ce,1,0,"span",17),s(43),m(44,"translate"),r()()(),a(45,"div",12)(46,"label",22),s(47,"Price Payment Intent (\u20AC)"),r(),a(48,"div",14)(49,"input",23),v("ngModelChange",function(e){p(i);let n=l();return w(n.formattedPricePaymentIntent,e)||(n.formattedPricePaymentIntent=e),u(e)}),y("input",function(e){p(i);let n=l();return u(n.onPriceInput(e))}),r(),a(50,"button",16),y("click",function(){p(i);let e=l();return u(e.updatePricePaymentIntent())}),I(51,ve,1,0,"span",17),s(52),m(53,"translate"),r()()(),a(54,"div",12)(55,"label",24),s(56,"Webhook secret"),r(),a(57,"div",14)(58,"input",25),v("ngModelChange",function(e){p(i);let n=l();return w(n.newWebHookSecret,e)||(n.newWebHookSecret=e),u(e)})("valueChange",function(e){p(i);let n=l();return w(n.webhookSecret,e)||(n.webhookSecret=e),u(e)}),r(),a(59,"button",16),y("click",function(){p(i);let e=l();return u(e.upadteWebHookSecret())}),I(60,Pe,1,0,"span",17),s(61),m(62,"translate"),r()()()(),P(63,"hr",26),a(64,"div",27)(65,"div",28)(66,"h2"),s(67),m(68,"translate"),r(),a(69,"div",29)(70,"button",30),y("click",function(){p(i);let e=l();return u(e.openAddModalFacebookPixel())}),P(71,"i",31),s(72),m(73,"translate"),r()()(),a(74,"div",10),I(75,Ie,2,1,"div",32),r(),I(76,Me,27,16,"ng-container",33)(77,Ee,30,19,"ng-container",33),r(),P(78,"hr",26),a(79,"h3",34),s(80),m(81,"translate"),r(),a(82,"div",35),I(83,Te,5,4,"div",36),r(),P(84,"div",37),m(85,"translate"),a(86,"div",38)(87,"div",39)(88,"label",40),s(89),m(90,"translate"),r(),a(91,"input",41),v("ngModelChange",function(e){p(i);let n=l();return w(n.newLanguageCode,e)||(n.newLanguageCode=e),u(e)}),r()(),a(92,"div",42)(93,"label",43),s(94),m(95,"translate"),r(),a(96,"input",44),v("ngModelChange",function(e){p(i);let n=l();return w(n.newLanguageName,e)||(n.newLanguageName=e),u(e)}),r()()(),a(97,"div",45)(98,"div",46)(99,"button",47),y("click",function(){p(i);let e=l();return u(e.addLanguage())}),s(100),m(101,"translate"),r()(),a(102,"div",46)(103,"button",48),y("click",function(){p(i);let e=l();return u(e.downloadEsJson())}),s(104),m(105,"translate"),r()()()()}if(c&2){let i=l();o(3),b(_(4,48,"admin.pages.configuration.stripe.title")),o(4),b(_(8,50,"admin.pages.configuration.stripe.public_key")),o(3),C("ngModel",i.newPublicKey)("value",i.publicKey),h("disabled",i.loading.publicKey),o(2),h("ngIf",i.loading.publicKey),o(),k(" ",_(14,52,"admin.pages.configuration.stripe.update_button")," "),o(4),b(_(18,54,"admin.pages.configuration.stripe.secret_key")),o(3),C("ngModel",i.newSecretKey)("value",i.secretKey),h("disabled",i.loading.secretKey),o(2),h("ngIf",i.loading.secretKey),o(),k(" ",_(24,56,"admin.pages.configuration.stripe.update_button")," "),o(4),k("",_(28,58,"admin.pages.configuration.stripe.price_id")," \u20AC Euro"),o(3),C("ngModel",i.newPriceId_eur)("value",i.priceId_eur),h("disabled",i.loading.priceId_eur),o(2),h("ngIf",i.loading.priceId_eur),o(),k(" ",_(34,60,"admin.pages.configuration.stripe.update_button")," "),o(4),k("",_(38,62,"admin.pages.configuration.stripe.price_id")," $ Usd"),o(3),C("ngModel",i.newPriceId_usd)("value",i.priceId_usd),h("disabled",i.loading.priceId_usd),o(2),h("ngIf",i.loading.priceId_usd),o(),k(" ",_(44,64,"admin.pages.configuration.stripe.update_button")," "),o(6),C("ngModel",i.formattedPricePaymentIntent),h("disabled",i.loading.pricePaymentIntent),o(2),h("ngIf",i.loading.pricePaymentIntent),o(),k(" ",_(53,66,"admin.pages.configuration.stripe.update_button")," "),o(6),C("ngModel",i.newWebHookSecret)("value",i.webhookSecret),h("disabled",i.loading.webhookSecret),o(2),h("ngIf",i.loading.webhookSecret),o(),k(" ",_(62,68,"admin.pages.configuration.stripe.update_button")," "),o(6),b(_(68,70,"admin.pages.configuration.facebook.title")),o(5),k(" ",_(73,72,"admin.pages.configuration.facebook.addNewPixel")," "),o(3),h("ngForOf",i.facebookPixels),o(),h("ngIf",i.isModalOpenAddFacebookPixel),o(),h("ngIf",i.isModalOpenConfigurationFacebookPixel),o(3),b(_(81,74,"admin.pages.configuration.languages.title")),o(3),h("ngForOf",i.getLanguageKeys()),o(),h("innerHTML",_(85,76,"admin.pages.configuration.languages.instructions"),G),o(5),b(_(90,78,"admin.pages.configuration.languages.language_code")),o(2),C("ngModel",i.newLanguageCode),o(3),b(_(95,80,"admin.pages.configuration.languages.language_name")),o(2),C("ngModel",i.newLanguageName),o(4),b(_(101,82,"admin.pages.configuration.languages.add_language")),o(4),b(_(105,84,"admin.pages.configuration.languages.download_json"))}}var ge=(()=>{let d=class d{constructor(t,e,n){this.configService=t,this.http=e,this.facebookPixelService=n,this.webhookSecret="",this.newWebHookSecret="",this.publicKey="",this.secretKey="",this.newPublicKey="",this.newSecretKey="",this.formattedPricePaymentIntent="",this.newPricePaymentIntent=0,this.priceId_eur="",this.newPriceId_eur="",this.priceId_usd="",this.newPriceId_usd="",this.loading={publicKey:!1,secretKey:!1,priceId_eur:!1,priceId_usd:!1,pricePaymentIntent:!1,webhookSecret:!1},this.languages={},this.newLanguageCode="",this.newLanguageName="",this.fileToUpload=null,this.fileLoading=!1,this.isLoading=!0,this.facebookPixels=[],this.isModalOpenAddFacebookPixel=!1,this.isModalOpenConfigurationFacebookPixel=!1,this.selectedPixel={},this.selectedPixelKey="",this.selectedPixelIndex=null,this.newPixel={name:"",id:"",token:""}}ngOnInit(){this.loadConfig(),this.loadLanguages()}loadConfig(){this.configService.getPublicKey().subscribe(t=>{this.publicKey=t,this.newPublicKey=t,this.checkLoading()}),this.configService.getSecretKey().subscribe(t=>{this.secretKey=t,this.newSecretKey=t,this.checkLoading()}),this.configService.getWebHookSecret().subscribe(t=>{this.webhookSecret=t,this.newWebHookSecret=t,this.checkLoading()}),this.configService.getPriceKey("eur").subscribe(t=>{this.priceId_eur=t,this.newPriceId_eur=t,this.checkLoading()}),this.configService.getPriceKey("usd").subscribe(t=>{this.priceId_usd=t,this.newPriceId_usd=t,this.checkLoading()}),this.configService.getPricePaymentIntent().subscribe(t=>{this.newPricePaymentIntent=t,this.updateFormattedPrice(),this.checkLoading()}),this.configService.getFacebookPixels().subscribe(t=>{this.facebookPixels=Object.keys(t).map(e=>({[e]:j({},t[e])}))})}onPriceInput(t){let e=t.target.value.replace(/[^0-9.,]/g,""),n=parseFloat(e.replace(",","."));this.newPricePaymentIntent=Math.round(n*100),this.updateFormattedPrice()}updateFormattedPrice(){this.formattedPricePaymentIntent=(this.newPricePaymentIntent/100).toLocaleString("it-IT",{style:"currency",currency:"EUR"})}checkLoading(){this.publicKey&&this.secretKey&&this.languages&&this.priceId_eur&&this.priceId_usd&&this.formattedPricePaymentIntent&&this.webhookSecret&&(this.isLoading=!1)}updatePublicKey(){this.loading.publicKey=!0,this.configService.updatePublicKey(this.newPublicKey).then(()=>{this.publicKey=this.newPublicKey,setTimeout(()=>{this.loading.publicKey=!1},500)}).catch(t=>{console.error("Error updating public key:",t)})}updateSecretKey(){this.loading.secretKey=!0,this.configService.updateSecretKey(this.newSecretKey).then(()=>{this.secretKey=this.newSecretKey,setTimeout(()=>{this.loading.secretKey=!1},500)}).catch(t=>{console.error("Error updating secret key:",t)})}upadteWebHookSecret(){this.loading.webhookSecret=!0,this.configService.updateWebHookSecret(this.newWebHookSecret).then(()=>{this.webhookSecret=this.newWebHookSecret,setTimeout(()=>{this.loading.webhookSecret=!1},500)}).catch(t=>{console.error("Error updating webhook secret key:",t)})}updatePriceId(t){this.loading[`priceId_${t}`]=!0;let e="",n="";t==="eur"?(e=this.newPriceId_eur,n=this.priceId_eur):(e=this.newPriceId_usd,n=this.priceId_usd),this.configService.updatePriceKey(e,t).then(()=>{t==="eur"?this.priceId_eur=e:this.priceId_usd=e,setTimeout(()=>{this.loading[`priceId_${t}`]=!1},500)}).catch(E=>{console.error("Error updatin public id:",E)})}updatePricePaymentIntent(){this.loading.pricePaymentIntent=!0,this.configService.updatePricePaymentIntent(this.newPricePaymentIntent).then(()=>{this.updateFormattedPrice(),setTimeout(()=>{this.loading.pricePaymentIntent=!1},500)}).catch(t=>{console.error("Error updatin price payment intent:",t)})}ngOnChanges(){this.loadConfig()}loadLanguages(){this.configService.getLanguages().subscribe(t=>{this.languages=t,this.checkLoading()})}addLanguage(){this.newLanguageCode&&this.newLanguageName&&this.configService.addLanguage(this.newLanguageCode,this.newLanguageName).then(()=>{this.newLanguageCode="",this.newLanguageName="",this.loadLanguages()}).catch(t=>{console.error("Error adding language:",t)})}deleteLanguage(t){this.configService.deleteLanguage(t).then(()=>{this.loadLanguages()}).catch(e=>{console.error("Error deleting language:",e)})}downloadEsJson(){this.http.get("/assets/i18n/es.json",{responseType:"text"}).subscribe(e=>{let n=new Blob([e],{type:"application/json"});(0,ue.saveAs)(n,"es.json")},e=>{console.error("Error downloading es.json:",e)})}getLanguageKeys(){return this.languages?Object.keys(this.languages):[]}getKeys(t){return Object.keys(t)}openEditModalFacebookPixel(t,e){this.selectedPixelKey=e,this.selectedPixel=j({},t),this.isModalOpenConfigurationFacebookPixel=!0}closeModalConfigurationFacebookPixel(){this.isModalOpenConfigurationFacebookPixel=!1,this.selectedPixel=null,this.selectedPixelKey=null}openAddModalFacebookPixel(){this.isModalOpenAddFacebookPixel=!0}closeAddModalFacebokPixel(){this.isModalOpenAddFacebookPixel=!1}updatePixel(){let t={name:this.selectedPixel.name,id:this.selectedPixel.id,token:this.selectedPixel.token};this.configService.updateFacebookPixel(this.selectedPixelKey,t).then(()=>{let e=this.facebookPixels.findIndex(n=>n.hasOwnProperty(this.selectedPixelKey));e!==-1&&(this.facebookPixels[e][this.selectedPixelKey]=t),this.closeModalConfigurationFacebookPixel()}).catch(e=>{console.error("Error updating pixel:",e)})}addNewPixel(){if(!this.newPixel.id||!this.newPixel.token||!this.newPixel.name){alert("Pixel ID and Token are required");return}let t={name:this.newPixel.name,id:this.newPixel.id,token:this.newPixel.token};this.configService.addFacebookPixel(t).then(()=>{let e={[this.newPixel.id]:t};this.newPixel={name:"",id:"",token:""},this.closeAddModalFacebokPixel()}).catch(e=>{console.error("Error adding new pixel:",e)})}deletePixel(){if(!this.selectedPixelKey){console.error("No pixel selected for deletion");return}confirm("Are you sure you want to delete this pixel?")&&this.configService.deleteFacebookPixel(this.selectedPixelKey).then(()=>{this.facebookPixels=this.facebookPixels.filter(t=>!t.hasOwnProperty(this.selectedPixelKey)),this.closeModalConfigurationFacebookPixel()}).catch(t=>{console.error("Error deleting pixel:",t)})}};d.\u0275fac=function(e){return new(e||d)(L(de),L(ee),L(se))},d.\u0275cmp=z({type:d,selectors:[["app-configuration"]],features:[X],decls:11,vars:5,consts:[[1,"container","d-flex","flex-column","justify-content-start","align-items-start","gap-3","bg-white","rounded-4","shadow-sm","border-1","p-md-5","p-3"],[1,"w-100"],[1,"w-100","d-flex","flex-column","flex-md-row","gap-2","gap-md-0","justify-content-between","align-items-center"],[1,"container-title","fs-2","fw-bold"],[1,"container","mt-4"],["class","d-flex justify-content-center align-items-center","style","height: 100vh;",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"row"],[1,"col-md-6"],[1,"form-group","mt-2"],["for","publicKey"],[1,"d-flex","justify-content-center","align-items-center","gap-2"],["type","text","id","publicKey","placeholder","Enter new public key",1,"form-control",3,"ngModelChange","valueChange","ngModel","value","disabled"],[1,"btn","btn-primary","rounded-2","d-flex","justify-content-center","align-items-center","gap-3",3,"click"],["class","spinner-border spinner-border-lg mr-1",4,"ngIf"],["for","secretKey"],["type","text","id","secretKey","placeholder","Enter new secret key",1,"form-control",3,"ngModelChange","valueChange","ngModel","value","disabled"],["for","priceId"],["type","text","id","priceId","placeholder","Enter new secret key",1,"form-control",3,"ngModelChange","valueChange","ngModel","value","disabled"],["for","pricePaymentIntent"],["type","text","id","pricePaymentIntent","placeholder","Enter new price payment",1,"form-control",3,"ngModelChange","input","ngModel","disabled"],["for","webhookSecret"],["type","text","id","webhookSecret","placeholder","Enter new public key",1,"form-control",3,"ngModelChange","valueChange","ngModel","value","disabled"],[1,"w-100","my-5"],[1,"col-12"],[1,"w-100","d-flex","flex-column","flex-md-row","justify-content-between","align-items-center"],[1,"container-header-buttons","d-flex","justify-content-center","align-items-end","gap-3"],[1,"btn","btn-confirm","d-flex","justify-content-center","align-items-center","gap-1","mr-1","rounded-pill","fw-medium",3,"click"],[1,"bi","bi-plus"],["class","col-12 col-lg-4","style","max-width: 100vw;",4,"ngFor","ngForOf"],[4,"ngIf"],[1,""],[1,"w-100","d-flex","justify-content-start","align-items-center","flex-wrap","gap-3"],["class","d-flex flex-column justify-content-center align-items-center py-3 gap-2 px-4 rounded-2","style","border: 1px solid #c3c3c3;",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"d-flex","justify-content-center","align-items-center","flex-wrap","mt-4"],[1,"form-group","col-md-3","col-12","px-md-3"],["for","newLanguageCode"],["type","text","id","newLanguageCode","placeholder","Enter language code",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","col-md-9","col-12","px-md-3","mt-3","mt-md-0"],["for","newLanguageName"],["type","text","id","newLanguageName","placeholder","Enter language name",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","align-items-center","flex-wrap"],[1,"mt-2","col-md-6","col-12","px-3"],[1,"btn","btn-success","w-100","rounded-2",3,"click"],[1,"btn","btn-secondary","w-100","rounded-2",3,"click"],[1,"spinner-border","spinner-border-lg","mr-1"],[1,"col-12","col-lg-4",2,"max-width","100vw"],[4,"ngFor","ngForOf"],[1,"card","mt-4",3,"click"],[1,"card-body"],[1,"card-title","mb-2"],[1,"card-text","w-100","m-0"],[1,"card-text","w-100",2,"white-space","nowrap","overflow","hidden","text-overflow","ellipsis"],["tabindex","-1",1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","d-flex","flex-column","gap-3"],[1,"d-flex","flex-column"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","rounded-2",3,"click"],["type","button",1,"btn","btn-danger","rounded-2",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","py-3","gap-2","px-4","rounded-2",2,"border","1px solid #c3c3c3"],[1,"btn","btn-danger","btn-sm","float-right","rounded-2",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1),P(2,"app-breadcrumb"),r(),a(3,"div",2)(4,"div",3),s(5),m(6,"translate"),r()(),P(7,"hr",1),a(8,"div",4),I(9,he,3,0,"div",5)(10,Ve,106,86,"div",6),r()()),e&2&&(o(5),k(" ",_(6,3,"admin.pages.configuration.title")," "),o(4),h("ngIf",n.isLoading),o(),h("ngIf",!n.isLoading))},dependencies:[te,ie,ne,Y,Z,ae,re],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;align-items:center;justify-content:center;z-index:1050}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;width:100%}"]});let c=d;return c})();var Le=[{path:"",component:ge,data:{breadcrumb:"App configuration"}}],Xe=(()=>{let d=class d{};d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=J({type:d}),d.\u0275inj=q({imports:[N.forChild(Le),le,oe,$,ce,N]});let c=d;return c})();export{Xe as ConfigurationModule};
