import{a as P,b as q}from"./chunk-DOKHALK2.js";import{a as V}from"./chunk-NPG4AAQF.js";import"./chunk-PH45QHHA.js";import"./chunk-BSLL5DOT.js";import"./chunk-Y2JEDRSH.js";import{r as B}from"./chunk-36DYOGE6.js";import{Aa as f,Ea as I,Ga as F,Ha as v,Hb as O,Jb as C,M as _,Mb as N,Nb as A,R as E,Ra as c,S,Sa as p,Ta as h,X as w,Y as y,cb as s,db as d,ha as r,ia as u,na as b,pa as x,rb as j,sb as M,ua as k,ub as T,wb as D,ya as a,za as n}from"./chunk-QE4JIREK.js";import"./chunk-W7LYWJAE.js";import"./chunk-YT5AF7SN.js";import"./chunk-HFBR4SKI.js";function L(i,e){i&1&&f(0,"span",8)}function Q(i,e){if(i&1){let m=I();a(0,"tr",13)(1,"td",14),c(2),n(),a(3,"td"),c(4),s(5,"date"),n(),a(6,"td"),c(7),n(),a(8,"td")(9,"div",15),F("click",function(){let t=w(m).$implicit,l=v(2);return y(l.downloadCertificate(t.url))}),f(10,"i",16),c(11),s(12,"translate"),n()()()}if(i&2){let m=e.$implicit;r(2),p(m.certificateNumber),r(2),p(d(5,4,m.date)),r(3),h(" ",m.iqValue," "),r(4),h(" ",d(12,6,"user.certificates.table.download")," ")}}function G(i,e){if(i&1&&(a(0,"table",7)(1,"thead")(2,"tr",9)(3,"th",10),c(4),s(5,"translate"),n(),a(6,"th",11),c(7),s(8,"translate"),n(),a(9,"th",11),c(10),s(11,"translate"),n(),a(12,"th",11),c(13),s(14,"translate"),n()()(),a(15,"tbody"),b(16,Q,13,8,"tr",12),n()()),i&2){let m=v();r(4),p(d(5,5,"user.certificates.table.th-1")),r(3),p(d(8,7,"user.certificates.table.th-2")),r(3),p(d(11,9,"user.certificates.table.th-3")),r(3),p(d(14,11,"user.certificates.table.th-4")),r(3),x("ngForOf",m.certifications)}}var R=(()=>{let e=class e{constructor(o,t,l){this.userService=o,this.router=t,this.afAuth=l,this.certifications=[],this.totalQuestions=0,this.currentPage=1,this.pageSize=10,this.paginationId="questionsPagination",this.loading=!1}ngOnInit(){this.getAllCertifications()}getAllCertifications(){this.afAuth.authState.subscribe(o=>{if(o&&o.uid){let t=o.uid;this.userService.getCertificates(t).snapshotChanges().subscribe({next:l=>{let g=l.payload.toJSON();if(g){let $=Object.keys(g).map(z=>g[z]);this.certifications=$}},error:l=>{console.error("Error fetching certifications:",l)}})}})}downloadCertificate(o){if(o){let t=document.createElement("a");t.href=o,t.download="certificate.pdf",t.target="_blank",t.click()}else console.error("Download URL is not available.")}};e.\u0275fac=function(t){return new(t||e)(u(V),u(O),u(B))},e.\u0275cmp=E({type:e,selectors:[["app-certificates"]],decls:12,vars:5,consts:[[1,"container","d-flex","flex-column","justify-content-start","align-items-start","gap-3","bg-white","rounded-4","shadow-sm","border-1","p-md-5","p-3"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"container-title","fs-2","fw-bold"],[1,"container","mt-md-4","mt-3","d-flex","justify-content-center","align-items-center","flex-column"],[1,"w-100","d-flex","justify-content-center","align-items-center"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"table","w-100"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table-question-header"],[1,"fw-semibold","d-none","d-md-flex"],[1,"fw-semibold"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"d-none","d-md-table-cell"],[1,"donwload-certificate","d-flex","justify-content-start","align-items-center","gap-3",3,"click"],[1,"bi","bi-file-earmark-arrow-down-fill"]],template:function(t,l){t&1&&(a(0,"div",0)(1,"div",1),f(2,"app-breadcrumb"),n(),a(3,"div",2)(4,"div",3),c(5),s(6,"translate"),n()(),f(7,"hr",1),a(8,"div",4)(9,"div",5),b(10,L,1,0,"span",6),n(),b(11,G,17,13,"table",7),n()()),t&2&&(r(5),h(" ",d(6,3,"user.certificates.title")," "),r(5),x("ngIf",l.loading),r(),k(l.loading?-1:11))},dependencies:[j,M,P,N,T],styles:[".donwload-certificate[_ngcontent-%COMP%]{cursor:pointer}"]});let i=e;return i})();var H=[{path:"certificates",component:R,data:{breadcrumb:"Certificates"}}],le=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S({type:e}),e.\u0275inj=_({imports:[C.forChild(H),A,D,q,C]});let i=e;return i})();export{le as UserModule};
