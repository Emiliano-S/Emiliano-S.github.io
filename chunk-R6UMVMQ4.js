import{a as O}from"./chunk-GOLSUGSB.js";import{a as M}from"./chunk-ROYPM5SJ.js";import{r as j}from"./chunk-OIYRZZOK.js";import{Aa as f,Ea as w,Ga as y,Ha as v,Hb as T,Mb as D,R as _,Ra as c,Sa as p,Ta as g,X as C,Y as E,cb as s,db as d,ha as i,ia as u,na as b,pa as x,rb as k,sb as I,ua as S,ub as F,ya as n,za as t}from"./chunk-DZ73TETG.js";function N(a,o){a&1&&f(0,"span",8)}function P(a,o){if(a&1){let m=w();n(0,"tr",13)(1,"td",14),c(2),t(),n(3,"td"),c(4),s(5,"date"),t(),n(6,"td"),c(7),t(),n(8,"td")(9,"div",15),y("click",function(){let e=C(m).$implicit,l=v(2);return E(l.downloadCertificate(e.url))}),f(10,"i",16),c(11),s(12,"translate"),t()()()}if(a&2){let m=o.$implicit;i(2),p(m.certificateNumber),i(2),p(d(5,4,m.date)),i(3),g(" ",m.iqValue," "),i(4),g(" ",d(12,6,"user.certificates.table.download")," ")}}function q(a,o){if(a&1&&(n(0,"table",7)(1,"thead")(2,"tr",9)(3,"th",10),c(4),s(5,"translate"),t(),n(6,"th",11),c(7),s(8,"translate"),t(),n(9,"th",11),c(10),s(11,"translate"),t(),n(12,"th",11),c(13),s(14,"translate"),t()()(),n(15,"tbody"),b(16,P,13,8,"tr",12),t()()),a&2){let m=v();i(4),p(d(5,5,"user.certificates.table.th-1")),i(3),p(d(8,7,"user.certificates.table.th-2")),i(3),p(d(11,9,"user.certificates.table.th-3")),i(3),p(d(14,11,"user.certificates.table.th-4")),i(3),x("ngForOf",m.certifications)}}var J=(()=>{let o=class o{constructor(r,e,l){this.userService=r,this.router=e,this.afAuth=l,this.certifications=[],this.totalQuestions=0,this.currentPage=1,this.pageSize=10,this.paginationId="questionsPagination",this.loading=!1}ngOnInit(){this.getAllCertifications()}getAllCertifications(){this.afAuth.authState.subscribe(r=>{if(r&&r.uid){let e=r.uid;this.userService.getCertificates(e).snapshotChanges().subscribe({next:l=>{let h=l.payload.toJSON();if(h){let B=Object.keys(h).map(A=>h[A]);this.certifications=B}},error:l=>{console.error("Error fetching certifications:",l)}})}})}downloadCertificate(r){if(r){let e=document.createElement("a");e.href=r,e.download="certificate.pdf",e.target="_blank",e.click()}else console.error("Download URL is not available.")}};o.\u0275fac=function(e){return new(e||o)(u(M),u(T),u(j))},o.\u0275cmp=_({type:o,selectors:[["app-certificates"]],decls:12,vars:5,consts:[[1,"container","d-flex","flex-column","justify-content-start","align-items-start","gap-3","bg-white","rounded-4","shadow-sm","border-1","p-md-5","p-3"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[1,"container-title","fs-2","fw-bold"],[1,"container","mt-md-4","mt-3","d-flex","justify-content-center","align-items-center","flex-column"],[1,"w-100","d-flex","justify-content-center","align-items-center"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"table","w-100"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"table-question-header"],[1,"fw-semibold","d-none","d-md-flex"],[1,"fw-semibold"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"d-none","d-md-table-cell"],[1,"donwload-certificate","d-flex","justify-content-start","align-items-center","gap-3",3,"click"],[1,"bi","bi-file-earmark-arrow-down-fill"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1),f(2,"app-breadcrumb"),t(),n(3,"div",2)(4,"div",3),c(5),s(6,"translate"),t()(),f(7,"hr",1),n(8,"div",4)(9,"div",5),b(10,N,1,0,"span",6),t(),b(11,q,17,13,"table",7),t()()),e&2&&(i(5),g(" ",d(6,3,"user.certificates.title")," "),i(5),x("ngIf",l.loading),i(),S(l.loading?-1:11))},dependencies:[k,I,O,F,D],styles:[`.donwload-certificate[_ngcontent-%COMP%]{cursor:pointer}
/*# sourceMappingURL=certificates.component-7X25T5HG.css.map */`]});let a=o;return a})();export{J as a};
//# sourceMappingURL=chunk-R6UMVMQ4.js.map
